{"ast":null,"code":"var _jsxFileName = \"/home/kio/Documents/Programming/Bachelor_thesis/Bachelor-thesis-application/heroku/src/Components/App_Editor/App_EditorPage.js\";\nimport React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './App_EditorPage.css';\nimport mergeImages from 'merge-images';\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from \"react-router-dom\"; // MUI\n\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport Slider from '@mui/material/Slider';\nimport IconButton from '@mui/material/IconButton'; // Import constants\n\nimport * as GLOBAL_CONSTANTS from '../../GlobalConstants';\nimport * as LOCAL_CONSTANTS from './LocalConstants'; // Components\n\nimport BottomBar from './App_BottomBar';\nimport LeftBar from './App_LeftBar';\nimport RightBar from './App_RightBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditorPage(props) {\n  const canvasBackgroundImage = () => {\n    const backgroundImageUrl = props.editorData.material_options[props.currentSelectedMaterialOptionIndex].style_options[props.currentSelectedStyleOptionIndex].style_background_image_url;\n\n    if (backgroundImageUrl) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: backgroundImageUrl,\n        style: {\n          width: '100%',\n          height: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    } else {\n      return null;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvasContainerWrapper\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      className: \"canvasContainer\",\n      style: {\n        backgroundColor: GLOBAL_CONSTANTS.COLORS.colorA,\n        color: GLOBAL_CONSTANTS.COLORS.colorB\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        xs: 12,\n        style: {\n          width: props.canvasElementWidth,\n          height: props.canvasElementHeight\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"canvasWrapper\",\n          style: {\n            width: props.canvasElementWidth,\n            height: props.canvasElementHeight\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"canvasBackgrouondColor\",\n            style: {\n              backgroundColor: props.currentCanvasColorBackground\n            },\n            children: canvasBackgroundImage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: props.imageCanvasRef,\n            width: props.canvasWidth,\n            height: props.canvasHeight,\n            style: {\n              maxWidth: props.canvasElementWidth,\n              maxHeight: props.canvasElementHeight\n            } // References other canvases as well\n            ,\n            onMouseDown: props.canvasOnMouseDown,\n            onMouseUp: props.canvasOnMouseUp,\n            onMouseMove: props.canvasOnMouseMove\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: props.eraserDeeraserCanvasRef,\n            width: props.canvasWidth,\n            height: props.canvasHeight,\n            style: {\n              maxWidth: props.canvasElementWidth,\n              maxHeight: props.canvasElementHeight,\n              visibility: \"hidden\",\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: props.paintDepaintCanvasRef,\n            width: props.canvasWidth,\n            height: props.canvasHeight,\n            style: {\n              maxWidth: props.canvasElementWidth,\n              maxHeight: props.canvasElementHeight,\n              visibility: \"hidden\",\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"canvasCutoutImage\",\n            style: {\n              width: props.canvasElementWidth,\n              height: props.canvasElementHeight,\n              opacity: 0.6,\n              pointerEvents: 'none'\n            },\n            src: props.editorData.cutout_options[props.currentSelectedCutoutIndex].img_url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"canvasCutoutImage\",\n            style: {\n              width: props.canvasElementWidth,\n              height: props.canvasElementHeight,\n              opacity: 0.2,\n              pointerEvents: 'none',\n              filter: 'invert(100%)'\n            },\n            src: props.cutoutImateSrc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dimensionTextWrapper dimensionTextWrapperWidth\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"width: \", props.currentCanvasDimensionWidth, \"mm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dimensionTextWrapperHeight\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"height: \", props.currentCanvasDimensionHeight, \"mm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LeftBar, {\n        editorData: props.editorData,\n        currentSelectedCutoutIndex: props.currentSelectedCutoutIndex,\n        currentSelectedMaterialOptionIndex: props.currentSelectedMaterialOptionIndex,\n        currentSelectedStyleOptionIndex: props.currentSelectedStyleOptionIndex,\n        currentCanvasColorBackground: props.currentCanvasColorBackground,\n        longestSidePick: props.longestSidePick,\n        sizeSliderMin: props.sizeSliderMin,\n        sizeSliderMax: props.sizeSliderMax,\n        onCanvasCutoutChange: props.onCanvasCutoutChange,\n        onCanvasMaterialChange: props.onCanvasMaterialChange,\n        onCanvasStyleChange: props.onCanvasStyleChange,\n        onChangeLongestSidePick: props.onChangeLongestSidePick,\n        onImageUpload: props.onImageUpload,\n        changeCanvasBackground: props.changeCanvasBackground\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BottomBar, {\n        imageToCanvasScale: props.imageToCanvasScale,\n        onChangeImageScale: props.onChangeImageScale,\n        onChangeTool: props.onChangeTool,\n        lineWidth: props.lineWidth,\n        currentSelectedTool: props.currentSelectedTool,\n        currentSelectedToolState: props.currentSelectedToolState,\n        changeBrushColor: props.changeBrushColor,\n        paintDepaintCanvasColor: props.paintDepaintCanvasColor,\n        onChangeLineWidth: props.onChangeLineWidth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RightBar, {\n        canvasAddToCartLoading: props.canvasAddToCartLoading,\n        editorData: props.editorData,\n        currentSelectedCutoutIndex: props.currentSelectedCutoutIndex,\n        currentSelectedMaterialOptionIndex: props.currentSelectedMaterialOptionIndex,\n        currentSelectedStyleOptionIndex: props.currentSelectedStyleOptionIndex,\n        currentCanvasColorBackground: props.currentCanvasColorBackground,\n        longestSidePick: props.longestSidePick,\n        canvasTotalPrice: props.canvasTotalPrice,\n        orderAmount: props.orderAmount,\n        canvasPrice: props.canvasPrice,\n        imageCanvasContext: props.imageCanvasContext,\n        eraserDeeraserCanvasContext: props.eraserDeeraserCanvasContext,\n        paintDepaintCanvasContext: props.paintDepaintCanvasContext,\n        onChangeOrderAmount: props.onChangeOrderAmount,\n        onAddCanvasToCart: props.onAddCanvasToCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_c = EditorPage;\nexport default EditorPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditorPage\");","map":{"version":3,"sources":["/home/kio/Documents/Programming/Bachelor_thesis/Bachelor-thesis-application/heroku/src/Components/App_Editor/App_EditorPage.js"],"names":["React","useEffect","ReactDOM","useSearchParams","axios","mergeImages","BrowserRouter","Router","Switch","Route","Link","useParams","Grid","Button","Slider","IconButton","GLOBAL_CONSTANTS","LOCAL_CONSTANTS","BottomBar","LeftBar","RightBar","EditorPage","props","canvasBackgroundImage","backgroundImageUrl","editorData","material_options","currentSelectedMaterialOptionIndex","style_options","currentSelectedStyleOptionIndex","style_background_image_url","width","height","backgroundColor","COLORS","colorA","color","colorB","canvasElementWidth","canvasElementHeight","currentCanvasColorBackground","imageCanvasRef","canvasWidth","canvasHeight","maxWidth","maxHeight","canvasOnMouseDown","canvasOnMouseUp","canvasOnMouseMove","eraserDeeraserCanvasRef","visibility","display","paintDepaintCanvasRef","opacity","pointerEvents","cutout_options","currentSelectedCutoutIndex","img_url","filter","cutoutImateSrc","currentCanvasDimensionWidth","currentCanvasDimensionHeight","longestSidePick","sizeSliderMin","sizeSliderMax","onCanvasCutoutChange","onCanvasMaterialChange","onCanvasStyleChange","onChangeLongestSidePick","onImageUpload","changeCanvasBackground","imageToCanvasScale","onChangeImageScale","onChangeTool","lineWidth","currentSelectedTool","currentSelectedToolState","changeBrushColor","paintDepaintCanvasColor","onChangeLineWidth","canvasAddToCartLoading","canvasTotalPrice","orderAmount","canvasPrice","imageCanvasContext","eraserDeeraserCanvasContext","paintDepaintCanvasContext","onChangeOrderAmount","onAddCanvasToCart"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './App_EditorPage.css';\nimport mergeImages from 'merge-images';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useParams\n  } from \"react-router-dom\";\n\n// MUI\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport Slider from '@mui/material/Slider';\nimport IconButton from '@mui/material/IconButton';\n\n// Import constants\nimport * as GLOBAL_CONSTANTS from '../../GlobalConstants';\nimport * as LOCAL_CONSTANTS from './LocalConstants'\n\n// Components\nimport BottomBar from './App_BottomBar'\nimport LeftBar from './App_LeftBar'\nimport RightBar from './App_RightBar';\n\nfunction EditorPage(props){\n\n    const canvasBackgroundImage = () => {\n        const backgroundImageUrl = props.editorData.material_options[props.currentSelectedMaterialOptionIndex].style_options[props.currentSelectedStyleOptionIndex].style_background_image_url;\n        if(backgroundImageUrl){\n            return(\n                <img    src={backgroundImageUrl}\n                        style={{ width: '100%', height: '100%'}}>\n                </img>\n            );\n        }else{\n            return(null);            \n        }\n    };\n\n    return(  \n        <div className=\"canvasContainerWrapper\">\n            <Grid container className=\"canvasContainer\" style={{backgroundColor: GLOBAL_CONSTANTS.COLORS.colorA, color: GLOBAL_CONSTANTS.COLORS.colorB}}>  \n                <Grid   xs={12} \n                        style={{width: props.canvasElementWidth, height: props.canvasElementHeight}}>\n\n                    <div className=\"canvasWrapper\"\n                        style={{width: props.canvasElementWidth, height: props.canvasElementHeight }}>   \n                        \n                        <div    className='canvasBackgrouondColor'\n                                style={{    backgroundColor: props.currentCanvasColorBackground}}>   \n                            {canvasBackgroundImage()}\n                        </div>\n\n                        {/* Main presented canvas */}\n                        <canvas\n                            ref={props.imageCanvasRef} \n                            width={props.canvasWidth} height={props.canvasHeight}\n                            style={{maxWidth: props.canvasElementWidth, maxHeight: props.canvasElementHeight }}\n                            // References other canvases as well\n                            onMouseDown={props.canvasOnMouseDown}\n                            onMouseUp={props.canvasOnMouseUp}\n                            onMouseMove={props.canvasOnMouseMove}\n                        >   \n                        </canvas>\n                        \n                        \n                        {/* Hidden canvas for EraserDeeraser layer */}\n                        <canvas \n                            ref={props.eraserDeeraserCanvasRef} \n                            width={props.canvasWidth} height={props.canvasHeight}\n                            style={{maxWidth: props.canvasElementWidth, maxHeight: props.canvasElementHeight , \n                                    visibility: \"hidden\", display: \"none\"}}>   \n                        </canvas>\n\n                        {/* Hidden canvas for PaintDepaint layer */}\n                        <canvas \n                            ref={props.paintDepaintCanvasRef} \n                            width={props.canvasWidth} height={props.canvasHeight}\n                            style={{maxWidth: props.canvasElementWidth, maxHeight: props.canvasElementHeight,\n                                    visibility: \"hidden\", display: \"none\"}}>   \n                        </canvas>\n                               \n\n                        {/* Cutout image */}\n                        {/* 2 images inverted to each other to makeup for black on black camouflage */}\n                        <img    className='canvasCutoutImage'\n                            style={{width: props.canvasElementWidth, height: props.canvasElementHeight, \n                                    opacity: 0.6, pointerEvents: 'none'}}\n                            src={props.editorData.cutout_options[props.currentSelectedCutoutIndex].img_url}>\n                        </img>\n                        <img    className='canvasCutoutImage'\n                            style={{width: props.canvasElementWidth, height: props.canvasElementHeight, \n                                    opacity: 0.2, pointerEvents: 'none',\n                                    filter: 'invert(100%)' }}\n                            src={props.cutoutImateSrc}>\n                        </img>\n\n                        <div className='dimensionTextWrapper dimensionTextWrapperWidth'>\n                            <p>width: {props.currentCanvasDimensionWidth}mm</p>\n                        </div>\n\n                        <div className='dimensionTextWrapperHeight'>\n                            <p>height: {props.currentCanvasDimensionHeight}mm</p>\n                        </div>                        \n                    </div>\n                </Grid>\n\n                {/* All tools will have absolute position */}\n                {/* props.editorData */}\n\n                                \n\n\n                <LeftBar\n                    editorData = {props.editorData}\n                    currentSelectedCutoutIndex = {props.currentSelectedCutoutIndex}\n                    currentSelectedMaterialOptionIndex = {props.currentSelectedMaterialOptionIndex}\n                    currentSelectedStyleOptionIndex = {props.currentSelectedStyleOptionIndex}\n                    currentCanvasColorBackground = {props.currentCanvasColorBackground}\n\n                    longestSidePick = {props.longestSidePick}\n                    sizeSliderMin = {props.sizeSliderMin}\n                    sizeSliderMax = {props.sizeSliderMax}\n\n                    onCanvasCutoutChange = {props.onCanvasCutoutChange}\n                    onCanvasMaterialChange = {props.onCanvasMaterialChange}\n                    onCanvasStyleChange = {props.onCanvasStyleChange}\n                    onChangeLongestSidePick = {props.onChangeLongestSidePick}\n                    onImageUpload = {props.onImageUpload}\n\n                    changeCanvasBackground = {props.changeCanvasBackground}\n                />\n\n                <BottomBar\n                    imageToCanvasScale = {props.imageToCanvasScale}\n                    onChangeImageScale = {props.onChangeImageScale}\n                    onChangeTool = {props.onChangeTool}\n                    lineWidth = {props.lineWidth}\n\n                    currentSelectedTool = {props.currentSelectedTool}\n                    currentSelectedToolState = {props.currentSelectedToolState}\n\n                    changeBrushColor = {props.changeBrushColor}\n                    paintDepaintCanvasColor = {props.paintDepaintCanvasColor}   \n                    onChangeLineWidth = {props.onChangeLineWidth}\n                />\n\n                <RightBar\n                    canvasAddToCartLoading = {props.canvasAddToCartLoading}\n\n                    editorData = {props.editorData}\n                    currentSelectedCutoutIndex = {props.currentSelectedCutoutIndex}\n                    currentSelectedMaterialOptionIndex = {props.currentSelectedMaterialOptionIndex}\n                    currentSelectedStyleOptionIndex = {props.currentSelectedStyleOptionIndex}\n                    currentCanvasColorBackground = {props.currentCanvasColorBackground}\n                    longestSidePick = {props.longestSidePick}\n                    canvasTotalPrice = {props.canvasTotalPrice}\n                    orderAmount = {props.orderAmount}\n                    canvasPrice = {props.canvasPrice}\n\n                    imageCanvasContext = {props.imageCanvasContext}\n                    eraserDeeraserCanvasContext = {props.eraserDeeraserCanvasContext}\n                    paintDepaintCanvasContext = {props.paintDepaintCanvasContext} \n                    \n                    onChangeOrderAmount = {props.onChangeOrderAmount}\n                    onAddCanvasToCart = {props.onAddCanvasToCart}\n                />\n                \n            </Grid>\n\n            \n\n        </div>\n    );       \n}\n\n\nexport default EditorPage\n"]},"metadata":{},"sourceType":"module"}